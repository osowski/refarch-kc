{"componentChunkName":"component---src-pages-business-scenario-microservices-overview-index-mdx","path":"/business-scenario/microservices-overview/","result":{"pageContext":{"frontmatter":{"title":"Microservices Overview","description":"An overview of the Reefer Container Shipment solution's component microservices."},"relativePagePath":"/business-scenario/microservices-overview/index.mdx","titleType":"append","MdxNode":{"id":"63444908-0186-5895-a16b-874f88fa76c1","children":[],"parent":"f6bfb3fc-b318-5d57-91af-109054b91051","internal":{"content":"---\ntitle: Microservices Overview\ndescription: An overview of the Reefer Container Shipment solution's component microservices.\n---\n\n<InlineNotification kind=\"warning\">UNDER CONSTRUCTION - This could potentially be split into three individual 'Overview' pages - Microservices, Events, and Topics.</InlineNotification>\n\n<AnchorLinks>\n  <AnchorLink>Microservices Architecture</AnchorLink>\n  <AnchorLink>User Interface</AnchorLink>\n  <AnchorLink>Order Command</AnchorLink>\n  <AnchorLink>Order Query</AnchorLink>\n  <AnchorLink>Container Management</AnchorLink>\n  <AnchorLink>Vessel Simulator</AnchorLink>\n  <AnchorLink>Telemetry Simulator</AnchorLink>\n  <AnchorLink>Anomalous Container Scoring</AnchorLink>\n  <AnchorLink>Fleet</AnchorLink>\n  <AnchorLink>Voyages</AnchorLink>\n</AnchorLinks>\n\n## Microservices Architecture\n\nTBD MIGRATE\n\n## User Interface\n\n![User Interface diagram](images/Slide1.png)\n\n**Description:** The user interface for our Reefer Container Shipment reference application is implemented as a single microservice using Node.js and Angular.js. The goal of this component is to serve a user interface for customers to:\n\n- Log in\n- Create an order\n- List all orders\n- List all containers\n- Initiate shipping simulation\n\n**Further details:** [Microservices Details > Orders UI](/microservices/orders-ui)\n\n## Order Command\n\n**Description:** Main goal of the Orders component is to manage the shipping orders. This component is made up of two microservices, one called Order Command and the other Order Query. The reason for this component to be split into two microservices is to implement the [**Command Query Responsibility Segregation (CQRS)**](#command-query-responsibility-segregation-(cqrs)) pattern.\n\n![Order Command diagram](images/Slide2.png)\n\n**Further details:** [Microservices Details > Order Command](/microservices/order-command)\n\n## Order Query\n\n**Description:** Main goal of the Orders component is to manage the shipping orders. This component is made up of two microservices, one called Order Command and the other Order Query. The reason for this component to be split into two microservices is to implement the [**Command Query Responsibility Segregation (CQRS)**](#command-query-responsibility-segregation-(cqrs)) pattern.\n\n![Order Query diagram](images/Slide3.png)\n\n**Further details:** [Microservices Details > Order Query](/microservices/order-query)\n\n## Container Management\n\nTBD MIGRATE\n\n![Containers diagram](images/Slide5.png)\n\nDescription: This microservice manages the container inventory. That is, this microservice will be in charge of keeping an inventory of all the containers registered in the system along with their status, size and location. When a new order is created and received, the container microservice will be in charge of assigning a container to this new shipping order based if a container is available that suits the order's quantity and source port. Otherwise, will emit a ContainerNotFound event for the interested parties in the overall Reefer Container Shipment solution.\n\nThis microservice will also manage any container anomaly during the shipping of goods. That is, this microservice will monitoring ContainerAnomaly Events received for any particular container and in the case that these are received, it will mark the container for maintenance, send a OrderSpoilt Event so that any other microservice in the overall solution is aware that the fresh goods this container was carrying are now spoilt and will call a Business Process Manager (BPM) process in to automatically trigger the assignment of a field engineer to repair the container when it reaches the destination port.\n\nThis microservice is implemented with Spring Framework and runs on Tomcat.\n\nGithub repository: [refarch-kc-container-ms](https://github.com/ibm-cloud-architecture/refarch-kc-container-ms)\n\nKafka topics it subscribes to:\n\n- [Order Topic](#orders-topic)\n- [Containers Topic](#containers-topic)\n- [container Anomaly Retry Topic](#container-anomaly-retry-topic)\n\nKafka topics it produces to:\n\n- [Order Topic](#orders-topic)\n- [Containers Topic](#containers-topic)\n- [container Anomaly Retry Topic](#container-anomaly-retry-topic)\n- [Container Anomaly Dead Topic](#container-anomaly-dead-topic)\n\nEvents that listens (and reacts) to:\n\n- [Order Created Event](#order-created-event)\n- [Order Reject Event](#order-reject-event)\n- [Order Cancel Event](#order-cancel-event)\n- [Container Added Event](#container-added-event)\n- [Container Anomaly Event](#container-anomaly-event)\n- [Container Anomaly Retry Event](#container-anomaly-retry-event)\n- [Container On Maintenance Event](#container-on-maintenance-event)\n- [Container Off Maintenance Event](#container-off-maintenance-event)\n\nEvents that produces:\n\n- [Order Spoilt Event](#order-spoilt-event)\n- [Container Allocated Event](#container-allocated-event)\n- [Container Not Found Event](#container-not-found-event)\n- [Container Assigned Event](#container-assigned-event)\n- [Container Anomaly Retry Event](#container-anomaly-retry-event)\n- [Container Anomaly Dead Event](#container-anomaly-dead-event)\n- [Container On Maintenance Event](#container-on-maintenance-event)\n- [Container Off Maintenance Event](#container-off-maintenance-event)\n\nEDA Patterns that implements:\n\n- [SAGA](#saga)\n- [Dead Letter Queue (DLQ)](#dead-letter-queue(dlq))\n- [Container Anomaly](#container-anomaly)\n\n## Vessel Simulator\n\nTBD MIGRATE\n\nDescription: This a simple vessel source events generatator taking into account the route from two harbors, the vessel characteristic and the geodetic curve shortest path.\n\nThis microservice has been implemented using the Appsody Microprofile 3.2 OpenLiberty stack.\n\nGithub repository: [refarch-kc-vessel-simulator](https://github.com/ibm-cloud-architecture/refarch-kc-vessel-simulator)\n\nFolder: `root`\n\nKafka topics it subscribes to: TBD\n\nKafka topics it produces to: TBD\n\nEvents that listens (and reacts) to: TBD\n\nEvents that produces: TBD\n\nEDA Patterns that implements: TBD\n\n## Telemetry Simulator\n\nTBD MIGRATE\n\n![Simulator diagram](images/Slide7.png)\n\nDescription: The Simulator webapp is a simple python (3.7) flask web app exposing a REST POST end point to control the type of simulation to run and to produce Reefer telemetry events to kafka reeferTelemetry topic.\n\nThis microservice has been implemented using the Appsody python flask stack.\n\nGithub repository: [refarch-reefer-ml](https://github.com/ibm-cloud-architecture/refarch-reefer-ml)\n\nFolder: [simulator](https://github.com/ibm-cloud-architecture/refarch-reefer-ml/simulator)\n\nKafka topics it subscribes to: None\n\nKafka topics it produces to:\n\n- [Reefer Telemetry Topic](#reefer-telemetry-topic)\n\nEvents that listens (and reacts) to: None\n\nEvents that produces:\n\n- [Container Telemetry Event](#container-telemetry-event)\n\nEDA Patterns that implements: None\n\n## Anomalous Container Scoring\n\nTBD MIGRATE\n\n![Telemetry diagram](images/Slide6.png)\n\nDescription: This microservice will be responsible for listening to the [Reefer Telemetry Topic](#reefer-telemetry-topic) topic where the IOT sensor devices of the Reefer Containers will be sending their telemetry data to. These telemetry events will be read and used to contact a container anomaly prediction service based on Watson Machine Learning hosted on the IBM Cloud. Depending on whether the prediction service predicts a container anomaly, this Telemetry microservice will send a [Container Anomaly Event](#container-anomaly-event) to the [Containers Topic](#containers-topic) for the [Containers microservice](#containers) to handle the shipping goods spoilage.\n\nThis microservice has been implemented using the latest [Reactive Messaging](#reactive-messaging) feature of MicroProfile 3.0. running on the OpenLiberty server.\n\nGithub repository: [refarch-reefer-ml](https://github.com/ibm-cloud-architecture/refarch-reefer-ml)\n\nFolder: [scoring-mp](https://github.com/ibm-cloud-architecture/refarch-reefer-ml/scoring-mp)\n\nKafka topics it subscribes to:\n\n- [Reefer Telemetry Topic](#reefer-telemetry-topic)\n\nKafka topics it produces to:\n\n- [Containers Topic](#containers-topic)\n\nEvents that listens (and reacts) to:\n\n- [Container Telemetry Event](#container-telemetry-event)\n\nEvents that produces:\n\n- [Container Anomaly Event](#container-anomaly-event)\n\nEDA Patterns that implements:\n\n- [Reactive Messaging](#reactive-messaging)\n\n## Fleet\n\nTBD MIGRATE\n\nDescription: This microservice will manage the fleet of ships.\n\nGithub repository: [refarch-kc-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms)\n\nFolder: [fleet-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms/fleet-ms)\n\nKafka topics it subscribes to:\n\nKafka topics it produces to:\n\nEvents that listens (and reacts) to:\n\nEvents that produces:\n\nEDA Patterns that implements:\n\n## Voyages\n\nTBD MIGRATE\n\n![Voyages diagram](images/Slide4.png)\n\nDescription: This microservice manages the voyages for each ship. A voyage consist of carrying a limited amount of goods from a source port to a destination port being the goods carried by a uniquely identified ship on a specific date. All those attributes make a voyage unique and these voyages are managed by this microservice. Voyages microservice will then be responsible to allocate a voyage to an order based on where this order needs to be carried from and to, the window time the goods need to be carried within and the amount of goods to be carried. So far, this microservice will assign a voyage to an order (and manage the remaining capacity on the ship making such voyage) if any suitable voyage is found and emit the consequent VoyageAssigned Event or will otherwise emit a VoyageNotFound Event.\n\nThis microservice is written in NodeJS.\n\nGithub repository: [refarch-kc-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms)\n\nFolder: [voyage-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms/voyage-ms)\n\nKafka topics it subscribes to:\n\n- [Order Topic](#orders-topic)\n\nKafka topics it produces to:\n\n- [Order Topic](#orders-topic)\n\nEvents that listens (and reacts) to:\n\n- [Order Created Event](#order-created-event)\n- [Order Reject Event](#order-reject-event)\n- [Order Cancel Event](#order-cancel-event)\n- [Container Allocated Event](#container-allocated-event)\n- [Container Not Found Event](#container-not-found-event)\n\nEvents that produces:\n\n- [Voyage Assigned Event](#voyage-assigned-event)\n- [Voyage Not Found Event](#voyage-not-found-event)\n\nEDA Patterns that implements:\n\n- [SAGA](#saga)\n","type":"Mdx","contentDigest":"6782d5d361d3b59ec72b64caf310270e","counter":304,"owner":"gatsby-plugin-mdx"},"frontmatter":{"title":"Microservices Overview","description":"An overview of the Reefer Container Shipment solution's component microservices."},"exports":{},"rawBody":"---\ntitle: Microservices Overview\ndescription: An overview of the Reefer Container Shipment solution's component microservices.\n---\n\n<InlineNotification kind=\"warning\">UNDER CONSTRUCTION - This could potentially be split into three individual 'Overview' pages - Microservices, Events, and Topics.</InlineNotification>\n\n<AnchorLinks>\n  <AnchorLink>Microservices Architecture</AnchorLink>\n  <AnchorLink>User Interface</AnchorLink>\n  <AnchorLink>Order Command</AnchorLink>\n  <AnchorLink>Order Query</AnchorLink>\n  <AnchorLink>Container Management</AnchorLink>\n  <AnchorLink>Vessel Simulator</AnchorLink>\n  <AnchorLink>Telemetry Simulator</AnchorLink>\n  <AnchorLink>Anomalous Container Scoring</AnchorLink>\n  <AnchorLink>Fleet</AnchorLink>\n  <AnchorLink>Voyages</AnchorLink>\n</AnchorLinks>\n\n## Microservices Architecture\n\nTBD MIGRATE\n\n## User Interface\n\n![User Interface diagram](images/Slide1.png)\n\n**Description:** The user interface for our Reefer Container Shipment reference application is implemented as a single microservice using Node.js and Angular.js. The goal of this component is to serve a user interface for customers to:\n\n- Log in\n- Create an order\n- List all orders\n- List all containers\n- Initiate shipping simulation\n\n**Further details:** [Microservices Details > Orders UI](/microservices/orders-ui)\n\n## Order Command\n\n**Description:** Main goal of the Orders component is to manage the shipping orders. This component is made up of two microservices, one called Order Command and the other Order Query. The reason for this component to be split into two microservices is to implement the [**Command Query Responsibility Segregation (CQRS)**](#command-query-responsibility-segregation-(cqrs)) pattern.\n\n![Order Command diagram](images/Slide2.png)\n\n**Further details:** [Microservices Details > Order Command](/microservices/order-command)\n\n## Order Query\n\n**Description:** Main goal of the Orders component is to manage the shipping orders. This component is made up of two microservices, one called Order Command and the other Order Query. The reason for this component to be split into two microservices is to implement the [**Command Query Responsibility Segregation (CQRS)**](#command-query-responsibility-segregation-(cqrs)) pattern.\n\n![Order Query diagram](images/Slide3.png)\n\n**Further details:** [Microservices Details > Order Query](/microservices/order-query)\n\n## Container Management\n\nTBD MIGRATE\n\n![Containers diagram](images/Slide5.png)\n\nDescription: This microservice manages the container inventory. That is, this microservice will be in charge of keeping an inventory of all the containers registered in the system along with their status, size and location. When a new order is created and received, the container microservice will be in charge of assigning a container to this new shipping order based if a container is available that suits the order's quantity and source port. Otherwise, will emit a ContainerNotFound event for the interested parties in the overall Reefer Container Shipment solution.\n\nThis microservice will also manage any container anomaly during the shipping of goods. That is, this microservice will monitoring ContainerAnomaly Events received for any particular container and in the case that these are received, it will mark the container for maintenance, send a OrderSpoilt Event so that any other microservice in the overall solution is aware that the fresh goods this container was carrying are now spoilt and will call a Business Process Manager (BPM) process in to automatically trigger the assignment of a field engineer to repair the container when it reaches the destination port.\n\nThis microservice is implemented with Spring Framework and runs on Tomcat.\n\nGithub repository: [refarch-kc-container-ms](https://github.com/ibm-cloud-architecture/refarch-kc-container-ms)\n\nKafka topics it subscribes to:\n\n- [Order Topic](#orders-topic)\n- [Containers Topic](#containers-topic)\n- [container Anomaly Retry Topic](#container-anomaly-retry-topic)\n\nKafka topics it produces to:\n\n- [Order Topic](#orders-topic)\n- [Containers Topic](#containers-topic)\n- [container Anomaly Retry Topic](#container-anomaly-retry-topic)\n- [Container Anomaly Dead Topic](#container-anomaly-dead-topic)\n\nEvents that listens (and reacts) to:\n\n- [Order Created Event](#order-created-event)\n- [Order Reject Event](#order-reject-event)\n- [Order Cancel Event](#order-cancel-event)\n- [Container Added Event](#container-added-event)\n- [Container Anomaly Event](#container-anomaly-event)\n- [Container Anomaly Retry Event](#container-anomaly-retry-event)\n- [Container On Maintenance Event](#container-on-maintenance-event)\n- [Container Off Maintenance Event](#container-off-maintenance-event)\n\nEvents that produces:\n\n- [Order Spoilt Event](#order-spoilt-event)\n- [Container Allocated Event](#container-allocated-event)\n- [Container Not Found Event](#container-not-found-event)\n- [Container Assigned Event](#container-assigned-event)\n- [Container Anomaly Retry Event](#container-anomaly-retry-event)\n- [Container Anomaly Dead Event](#container-anomaly-dead-event)\n- [Container On Maintenance Event](#container-on-maintenance-event)\n- [Container Off Maintenance Event](#container-off-maintenance-event)\n\nEDA Patterns that implements:\n\n- [SAGA](#saga)\n- [Dead Letter Queue (DLQ)](#dead-letter-queue(dlq))\n- [Container Anomaly](#container-anomaly)\n\n## Vessel Simulator\n\nTBD MIGRATE\n\nDescription: This a simple vessel source events generatator taking into account the route from two harbors, the vessel characteristic and the geodetic curve shortest path.\n\nThis microservice has been implemented using the Appsody Microprofile 3.2 OpenLiberty stack.\n\nGithub repository: [refarch-kc-vessel-simulator](https://github.com/ibm-cloud-architecture/refarch-kc-vessel-simulator)\n\nFolder: `root`\n\nKafka topics it subscribes to: TBD\n\nKafka topics it produces to: TBD\n\nEvents that listens (and reacts) to: TBD\n\nEvents that produces: TBD\n\nEDA Patterns that implements: TBD\n\n## Telemetry Simulator\n\nTBD MIGRATE\n\n![Simulator diagram](images/Slide7.png)\n\nDescription: The Simulator webapp is a simple python (3.7) flask web app exposing a REST POST end point to control the type of simulation to run and to produce Reefer telemetry events to kafka reeferTelemetry topic.\n\nThis microservice has been implemented using the Appsody python flask stack.\n\nGithub repository: [refarch-reefer-ml](https://github.com/ibm-cloud-architecture/refarch-reefer-ml)\n\nFolder: [simulator](https://github.com/ibm-cloud-architecture/refarch-reefer-ml/simulator)\n\nKafka topics it subscribes to: None\n\nKafka topics it produces to:\n\n- [Reefer Telemetry Topic](#reefer-telemetry-topic)\n\nEvents that listens (and reacts) to: None\n\nEvents that produces:\n\n- [Container Telemetry Event](#container-telemetry-event)\n\nEDA Patterns that implements: None\n\n## Anomalous Container Scoring\n\nTBD MIGRATE\n\n![Telemetry diagram](images/Slide6.png)\n\nDescription: This microservice will be responsible for listening to the [Reefer Telemetry Topic](#reefer-telemetry-topic) topic where the IOT sensor devices of the Reefer Containers will be sending their telemetry data to. These telemetry events will be read and used to contact a container anomaly prediction service based on Watson Machine Learning hosted on the IBM Cloud. Depending on whether the prediction service predicts a container anomaly, this Telemetry microservice will send a [Container Anomaly Event](#container-anomaly-event) to the [Containers Topic](#containers-topic) for the [Containers microservice](#containers) to handle the shipping goods spoilage.\n\nThis microservice has been implemented using the latest [Reactive Messaging](#reactive-messaging) feature of MicroProfile 3.0. running on the OpenLiberty server.\n\nGithub repository: [refarch-reefer-ml](https://github.com/ibm-cloud-architecture/refarch-reefer-ml)\n\nFolder: [scoring-mp](https://github.com/ibm-cloud-architecture/refarch-reefer-ml/scoring-mp)\n\nKafka topics it subscribes to:\n\n- [Reefer Telemetry Topic](#reefer-telemetry-topic)\n\nKafka topics it produces to:\n\n- [Containers Topic](#containers-topic)\n\nEvents that listens (and reacts) to:\n\n- [Container Telemetry Event](#container-telemetry-event)\n\nEvents that produces:\n\n- [Container Anomaly Event](#container-anomaly-event)\n\nEDA Patterns that implements:\n\n- [Reactive Messaging](#reactive-messaging)\n\n## Fleet\n\nTBD MIGRATE\n\nDescription: This microservice will manage the fleet of ships.\n\nGithub repository: [refarch-kc-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms)\n\nFolder: [fleet-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms/fleet-ms)\n\nKafka topics it subscribes to:\n\nKafka topics it produces to:\n\nEvents that listens (and reacts) to:\n\nEvents that produces:\n\nEDA Patterns that implements:\n\n## Voyages\n\nTBD MIGRATE\n\n![Voyages diagram](images/Slide4.png)\n\nDescription: This microservice manages the voyages for each ship. A voyage consist of carrying a limited amount of goods from a source port to a destination port being the goods carried by a uniquely identified ship on a specific date. All those attributes make a voyage unique and these voyages are managed by this microservice. Voyages microservice will then be responsible to allocate a voyage to an order based on where this order needs to be carried from and to, the window time the goods need to be carried within and the amount of goods to be carried. So far, this microservice will assign a voyage to an order (and manage the remaining capacity on the ship making such voyage) if any suitable voyage is found and emit the consequent VoyageAssigned Event or will otherwise emit a VoyageNotFound Event.\n\nThis microservice is written in NodeJS.\n\nGithub repository: [refarch-kc-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms)\n\nFolder: [voyage-ms](https://github.com/ibm-cloud-architecture/refarch-kc-ms/voyage-ms)\n\nKafka topics it subscribes to:\n\n- [Order Topic](#orders-topic)\n\nKafka topics it produces to:\n\n- [Order Topic](#orders-topic)\n\nEvents that listens (and reacts) to:\n\n- [Order Created Event](#order-created-event)\n- [Order Reject Event](#order-reject-event)\n- [Order Cancel Event](#order-cancel-event)\n- [Container Allocated Event](#container-allocated-event)\n- [Container Not Found Event](#container-not-found-event)\n\nEvents that produces:\n\n- [Voyage Assigned Event](#voyage-assigned-event)\n- [Voyage Not Found Event](#voyage-not-found-event)\n\nEDA Patterns that implements:\n\n- [SAGA](#saga)\n","fileAbsolutePath":"/home/runner/work/refarch-kc/refarch-kc/docs/src/pages/business-scenario/microservices-overview/index.mdx"}}}}