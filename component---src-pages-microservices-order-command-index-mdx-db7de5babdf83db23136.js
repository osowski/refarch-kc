(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{DqQm:function(e,t,o){"use strict";o.r(t),o.d(t,"_frontmatter",(function(){return i})),o.d(t,"default",(function(){return m}));o("91GP"),o("rGqo"),o("yt8O"),o("Btvt"),o("RW0V"),o("q1tI");var n=o("7ljp"),r=o("013z");o("qKvR");function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var i={},s=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",t)}},c=s("InlineNotification"),l=s("AnchorLinks"),d=s("AnchorLink"),p=s("PageDescription"),u={_frontmatter:i},b=r.a;function m(e){var t=e.components,o=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,["components"]);return Object(n.b)(b,a({},u,o,{components:t,mdxType:"MDXLayout"}),Object(n.b)(c,{kind:"warning",mdxType:"InlineNotification"},"UNDER CONSTRUCTION"),Object(n.b)(l,{mdxType:"AnchorLinks"},Object(n.b)(d,{mdxType:"AnchorLink"},"Overview"),Object(n.b)(d,{mdxType:"AnchorLink"},"Build"),Object(n.b)(d,{mdxType:"AnchorLink"},"Run"),Object(n.b)(d,{mdxType:"AnchorLink"},"Integration Tests"),Object(n.b)(d,{mdxType:"AnchorLink"},"Implementation Details")),Object(n.b)("h2",null,"Overview"),Object(n.b)(p,{mdxType:"PageDescription"},"This project is demonstrating, one of the possible implementation of the Command Query Responsibility Segregation and event sourcing patterns applied to Reefer shipment order subdomain. It is part of the Event Driven Architecture solution implementation. From a use case point of view, it implements the order management component, responsible to manage the full life cycle of a shipping order issued by a customer who wants to ship fresh goods overseas. The business process is defined here and the event storming analysis in this note. We are also presenting one way of applying Domain Drive Design practice for this subdomain."),Object(n.b)("p",null,"The source repository can be found at ",Object(n.b)("a",a({parentName:"p"},{href:"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/tree/master/order-command-ms"}),"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/tree/master/order-command-ms"),"."),Object(n.b)("p",null,"This microservice is part of a set that demonstrates the consume-transform-produce pattern has been used along with the Event Sourcing pattern and the commands concept in Event Driven Architectures to ensure that any request (command) from users is eventually attended and processed by our system."),Object(n.b)("p",null,"The most critical part is the processing of those commands published in the Order Commands Topic of our event backbone that correspond to customer requests. We want to be able to successfully process all of them regardless of how many actions these entail, making sure these actions are all executed and we get confirmation of those. We want to process these actions in a transaction-like manner so that a request is not successfully marked as processed unless all actions were successfully executed."),Object(n.b)("p",null,"The key of this loop is that the produced event to the Orders Topic as the last action of the request (so that all previous actions have successfully been executed already) will be produced along with the offset commitment for the command read as a transaction. That is, either both the event to the Orders Topic is produced and the offset for the command read from the Order Commands Topic is committed or none of them happen."),Object(n.b)("h3",null,"What you will learn"),Object(n.b)("p",null,"By studying this repository, you will be able to learn the following subjects:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"How to apply domain driven design for a CQRS microservice"),Object(n.b)("li",{parentName:"ul"},"How to adopt CQRS pattern for the shipping order management"),Object(n.b)("li",{parentName:"ul"},"How to apply ubiquituous language in the code"),Object(n.b)("li",{parentName:"ul"},"Develop and deploy a microprofile 2.2 application, using open Liberty, on openshift or kubernetes")),Object(n.b)("h3",null,"Requirements"),Object(n.b)("p",null,"The key business requirements we need to support are:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"Be able to book a fresh product shipment order, including the allocation of the voyage and the assignment of a reefer container to the expected cargo."),Object(n.b)("li",{parentName:"ul"},"Be able to understand what happen to the order over time:",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"How frequently does an order get cancelled after it is placed but before an empty container is delivered to pick up location or loaded ?"),Object(n.b)("li",{parentName:"ul"},"Track key issue or step in the reefer shipment process"),Object(n.b)("li",{parentName:"ul"},"How often does an order get cancelled after the order is confirmed, a container assigned and goods loaded into it?"))),Object(n.b)("li",{parentName:"ul"},"Be able to support adhoc query on the order that span across subdomains of the shipment domain.",Object(n.b)("ul",{parentName:"li"},Object(n.b)("li",{parentName:"ul"},"What are all events for a particular order and associated container shipment?"),Object(n.b)("li",{parentName:"ul"},"Has the cold chain been protected on this particular order?"),Object(n.b)("li",{parentName:"ul"},"How long it takes to deliver a fresh food order from california to China?")))),Object(n.b)("p",null,"Those requirements force use to consider event sourcing (understanding facts about the order over time) and CQRS patterns to separate queries from command so our architecture will be more flexible and may address different scaling requirements."),Object(n.b)("h2",null,"Build"),Object(n.b)("p",null,"TBD Appsody"),Object(n.b)("h2",null,"Run"),Object(n.b)("p",null,"TBD Appsody"),Object(n.b)("h2",null,"Integration Tests"),Object(n.b)("p",null,"TBD"),Object(n.b)("h2",null,"Implementation Details"),Object(n.b)("p",null,"TBD Merge the following:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/blob/master/docs/implementation-considerations.md"}),"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/blob/master/docs/implementation-considerations.md")),Object(n.b)("li",{parentName:"ul"},Object(n.b)("a",a({parentName:"li"},{href:"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/blob/master/docs/ddd-applied.md"}),"https://github.com/ibm-cloud-architecture/refarch-kc-order-ms/blob/master/docs/ddd-applied.md"))))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-microservices-order-command-index-mdx-db7de5babdf83db23136.js.map