{"version":3,"sources":["webpack:///./src/pages/microservices/user-interface/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","InlineNotification","PageDescription","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","kind","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-microservices-user-interface-index-mdx-1512d9e31bb57ec0520d.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/refarch-kc/refarch-kc/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst InlineNotification = makeShortcode(\"InlineNotification\");\nconst PageDescription = makeShortcode(\"PageDescription\");\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <InlineNotification kind=\"warning\" mdxType=\"InlineNotification\">UNDER CONSTRUCTION</InlineNotification>\n    <PageDescription mdxType=\"PageDescription\">\nThe user interface for our Reefer Container Shipment reference application is implemented as a single microservice using Node.js and Angular.js.\n    </PageDescription>\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Build</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Run</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Integration Tests</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Implementation Details</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <p><strong parentName=\"p\">{`Description:`}</strong>{` The goal of this component is to serve a user interface for customers to:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Log in`}</li>\n      <li parentName=\"ul\">{`Create an order`}</li>\n      <li parentName=\"ul\">{`List all orders`}</li>\n      <li parentName=\"ul\">{`List all containers`}</li>\n      <li parentName=\"ul\">{`Initiate shipping simulation`}</li>\n    </ul>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1024px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"56.25%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAvXAAAL1wElddLwAAABMklEQVQoz2P4Txz48/ffnz//gCSyIAN+PX//gVQ/evk1vedcctfZxPYzD198AYr8A4ujaP6L0AOUBpEQzbeffErqOBPbeiaq+dT9Z1/ghhKwGWLDy3ffq2ddKZx8sXDyhRfvvqPYDPHH6++/l997C2R8+/Fn5qa7HUtvtC6+ce3BR6DItQcfvCuOBlSfcCk6fPfpZxSbIayDzz/57r3348/fD59/+Vcds887ZJK2b9vxZ0CpF2+/l02/mNp9Nn/i+ZdYbf708/f9j9+AngWadeX+x5PX3p66/vb9559AqesPPvqUHw1vOOVWfOTGw0+k+fnV+x8tC6+VTb9UNesyzGbUqPoHDmRoaP/9B0dA7s2Hn1wKD3uWHrPNOXjzEYk2v/7wo2XR9cYF1+rmXsVuMxkAAAlyXhvtiIE6AAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"User Interface diagram\",\n        \"title\": \"User Interface diagram\",\n        \"src\": \"/refarch-kc/static/e3b44a691d95c74491257bb57fe3ac6f/2faef/microservice-overview-user-interface.png\",\n        \"srcSet\": [\"/refarch-kc/static/e3b44a691d95c74491257bb57fe3ac6f/7fc1e/microservice-overview-user-interface.png 288w\", \"/refarch-kc/static/e3b44a691d95c74491257bb57fe3ac6f/a5df1/microservice-overview-user-interface.png 576w\", \"/refarch-kc/static/e3b44a691d95c74491257bb57fe3ac6f/2faef/microservice-overview-user-interface.png 1024w\"],\n        \"sizes\": \"(max-width: 1024px) 100vw, 1024px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p><strong parentName=\"p\">{`Github repository:`}</strong>{` `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/refarch-kc-ui\"\n      }}>{`refarch-kc-ui`}</a></p>\n    <p><strong parentName=\"p\">{`Kafka topics consumed from:`}</strong>{` None`}</p>\n    <p><strong parentName=\"p\">{`Kafka topics produced to:`}</strong>{` None`}</p>\n    <p><strong parentName=\"p\">{`Events reacted to:`}</strong>{` None`}</p>\n    <p><strong parentName=\"p\">{`Events produced:`}</strong>{` None`}</p>\n    <p><strong parentName=\"p\">{`EDA Patterns implemented:`}</strong>{` None`}</p>\n    <h2>{`Build`}</h2>\n    <p>{`TBD Appsody`}</p>\n    <h2>{`Run`}</h2>\n    <p>{`TBD Appsody`}</p>\n    <h2>{`Integration Tests`}</h2>\n    <p>{`TBD`}</p>\n    <h2>{`Implementation Details`}</h2>\n    <h3>{`User stories to support`}</h3>\n    <p>{`This project is in light development so the following user stories are in plan (or done):`}</p>\n    <ul>\n      <li parentName=\"ul\">{`As a fleet manager I want to login to the webapp to access the fleet management feature. Use `}<a parentName=\"li\" {...{\n          \"href\": \"mailto:eddie@email.com\"\n        }}>{`eddie@email.com`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`As a fleet manager I want to select one of the fleet to get the list of ships with their attributes in a table format, and plot the ship on a map at their respective position (latitude, longitude)`}</li>\n      <li parentName=\"ul\">{`As a demoer I want to start ship movement so the ships move on the map`}</li>\n      <li parentName=\"ul\">{`As a fleet manager I want to select one ship from the table of ships and present a detail view of it with its containers loaded in the boat`}</li>\n      <li parentName=\"ul\">{`As a demoer I want to start the fire to container or heat wave or container down simulation from the detailed ship view`}</li>\n      <li parentName=\"ul\">{`As a demoer I want to see the message coming back from the streaming analytics about next best action from my simulation`}</li>\n      <li parentName=\"ul\">{`As a manufacturer manager I want to enter container shipment order information like product reference, quantity,  pickup from address, earliest pickup date, shipment to address,  shipment by date, and required temperature in transit range so the shipping company can give me back an order confirmation ( including the orderID), expected pickup and delivery dates, the assigned voyage and ship name as the microservice will not have a dedicated UI, we are using the demonstration UI to define the forms to gather the data. So this user story is implemented in the kc-ui project, and in this microservice we need to offer the create and update operations and get by order ID`}</li>\n      <li parentName=\"ul\">{`As a manufacturer manager I want to read the status of an order given its order id and receive a report with the full event history of related order, voyage ship and container events.\nThe order id is generated by the order create operation, and is immutable. An order is assigned to a voyage at the time it is created.`}</li>\n    </ul>\n    <h3>{`UI Development`}</h3>\n    <p>{`This is a traditional Angular 7 app with the app.module.ts using `}<inlineCode parentName=\"p\">{`shared`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`features`}</inlineCode>{` modules. `}<inlineCode parentName=\"p\">{`Shared`}</inlineCode>{` is for UI generic widgets, while `}<inlineCode parentName=\"p\">{`features`}</inlineCode>{` are for supporting the UI specific components linked to the business logic.\nThere is no login page yet, but the home page displays a set of tiles to support the demonstration of the full shipment process as illustrated in the figure below:`}</p>\n    <img {...{\n      \"src\": \"kc-ui.png\",\n      \"alt\": \"kc-ui\"\n    }}></img>\n    <p>{`For the BFF code the server code is under the `}<inlineCode parentName=\"p\">{`server`}</inlineCode>{` folder and uses the standard patterns for expressjs middleware. The `}<a parentName=\"p\" {...{\n        \"href\": \"./server/README.md\"\n      }}>{`readme file`}</a>{` goes into the details on this implementation.`}</p>\n    <p>{`This project was generated with `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/angular/angular-cli\"\n      }}>{`Angular CLI`}</a>{` version 7.1. The user interface features are under the features folder. We are using a TDD approach as described in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/refarch-caseportal-app/blob/master/docs/tdd.md\"\n      }}>{`this note.`}</a>{` The tests run with `}<inlineCode parentName=\"p\">{`ng test`}</inlineCode>{`. We also encourage to read the `}<a parentName=\"p\" {...{\n        \"href\": \"https://angular.io/guide/testing\"\n      }}>{`angular.io testing guide`}</a></p>\n    <h2>{`Build and Run`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`scripts`}</inlineCode>{` folder has two scripts to build the UI, and a docker image for the server and single page app, and run it locally. You should clone all the KC solution repositories and use each component one by one, or use our IBM public cloud deployment. To be able to run the UI locally, you need to have at least the following component up and running:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Kafka and zookeeper: Use the docker compose file in the root project:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`cd ../refarch-kc/docker\ndocker-compose -f backbone-compose.yml up\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Start the Fleet simulator.  For the fleet simulator `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/refarch-kc-ms/tree/master/fleet-ms#run\"\n          }}>{`see instructions here`}</a>{` to run the simulator locally.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Make sure you have the angular cli installed via `}<inlineCode parentName=\"p\">{`npm install -g @angular/cli`}</inlineCode>{` and run an initial `}<inlineCode parentName=\"p\">{`npm install`}</inlineCode>{` inside the ui folder to pull all dependencies.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Build UI and server and a docker image with the command: `}<inlineCode parentName=\"p\">{`./scripts/build.sh`}</inlineCode>{`. The trace looks like:`}</p>\n        <blockquote parentName=\"li\">\n          <p parentName=\"blockquote\">{`… chunk {main} main.js, main.js.map (main) 78.9 kB `}{`[initial][rendered]`}{`\nchunk {polyfills} polyfills.js, polyfills.js.map (polyfills) 223 kB `}{`[initial][rendered]`}{`\nchunk {runtime} runtime.js, runtime.js.map (runtime) 6.08 kB `}{`[entry][rendered]`}{`\nchunk {styles} styles.js, styles.js.map (styles) 387 kB `}{`[initial][rendered]`}{`\nchunk {vendor} vendor.js, vendor.js.map (vendor) 6.81 MB `}{`[initial][rendered]`}{`\n…\n`}<a parentName=\"p\" {...{\n              \"href\": \"mailto:kcbff@0.0.1\"\n            }}>{`kcbff@0.0.1`}</a>{` copy-deps /Users/jeromeboyer/Code/GreenCompute/refarch-kc-ui/server\ncpx “../ui/dist/ui/`}<em parentName=\"p\">{`.`}</em>{`” ./dist/server/static && cpx “./config/config.json” ./dist/server/config\nSuccessfully built 0226a1748fd9\nSuccessfully tagged ibmcase/kcontainer-ui:latest`}</p>\n        </blockquote>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Start locally with `}<inlineCode parentName=\"p\">{`./script/run.sh`}</inlineCode>{` or with a docker `}<inlineCode parentName=\"p\">{`./script/runDocker.sh`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Use your web browser at http://localhost:3000/#/home`}</p>\n      </li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}